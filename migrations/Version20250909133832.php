<?php

declare(strict_types=1);

namespace DoctrineMigrations;

use Doctrine\DBAL\Schema\Schema;
use Doctrine\Migrations\AbstractMigration;

/**
 * Auto-generated Migration: Please modify to your needs!
 */
final class Version20250909133832 extends AbstractMigration
{
    public function getDescription(): string
    {
        return '';
    }

    public function up(Schema $schema): void
    {
        // this up() migration is auto-generated, please modify it to your needs
        $this->addSql('CREATE TABLE v2_additional_service_prices (id INT AUTO_INCREMENT NOT NULL, pricing_table_id INT NOT NULL, additional_service_id INT NOT NULL, price NUMERIC(10, 4) NOT NULL, min_price NUMERIC(10, 4) DEFAULT NULL, max_price NUMERIC(10, 4) DEFAULT NULL, percentage_rate NUMERIC(5, 2) DEFAULT NULL, config JSON DEFAULT NULL, weight_tiers JSON DEFAULT NULL, value_tiers JSON DEFAULT NULL, is_active TINYINT(1) DEFAULT 1 NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME DEFAULT NULL, INDEX IDX_SERVICE_PRICE_TABLE (pricing_table_id), INDEX IDX_SERVICE_PRICE_SERVICE (additional_service_id), INDEX IDX_SERVICE_PRICE_ACTIVE (is_active), UNIQUE INDEX UNQ_SERVICE_PRICE_TABLE_SERVICE (pricing_table_id, additional_service_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB');
        $this->addSql('CREATE TABLE v2_additional_services (id INT AUTO_INCREMENT NOT NULL, carrier_id INT NOT NULL, code VARCHAR(50) NOT NULL, name VARCHAR(100) NOT NULL, description LONGTEXT DEFAULT NULL, service_type VARCHAR(30) NOT NULL, pricing_type VARCHAR(20) NOT NULL, default_price NUMERIC(10, 4) DEFAULT NULL, min_price NUMERIC(10, 4) DEFAULT NULL, max_price NUMERIC(10, 4) DEFAULT NULL, percentage_rate NUMERIC(5, 2) DEFAULT NULL, config JSON DEFAULT NULL, required_fields JSON DEFAULT NULL, supported_zones JSON DEFAULT NULL, is_active TINYINT(1) DEFAULT 1 NOT NULL, sort_order INT DEFAULT 0 NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME DEFAULT NULL, UNIQUE INDEX UNIQ_B35CC9AE77153098 (code), INDEX IDX_SERVICE_CARRIER (carrier_id), INDEX IDX_SERVICE_TYPE (service_type), INDEX IDX_SERVICE_ACTIVE (is_active), UNIQUE INDEX UNQ_SERVICE_CARRIER_CODE (carrier_id, code), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB');
        $this->addSql('CREATE TABLE v2_customer_pricing (id INT AUTO_INCREMENT NOT NULL, customer_id INT NOT NULL, base_pricing_table_id INT NOT NULL, created_by_id INT DEFAULT NULL, updated_by_id INT DEFAULT NULL, contract_name VARCHAR(100) NOT NULL, contract_number VARCHAR(50) DEFAULT NULL, discount_type VARCHAR(20) NOT NULL, base_discount NUMERIC(5, 2) DEFAULT NULL, fixed_discount NUMERIC(10, 4) DEFAULT NULL, minimum_order_value NUMERIC(10, 4) DEFAULT NULL, maximum_order_value NUMERIC(10, 4) DEFAULT NULL, volume_discounts JSON DEFAULT NULL, volume_period VARCHAR(20) DEFAULT NULL, custom_rules JSON DEFAULT NULL, service_discounts JSON DEFAULT NULL, payment_terms JSON DEFAULT NULL, free_shipping_threshold NUMERIC(10, 4) DEFAULT NULL, tax_rate_override NUMERIC(5, 2) DEFAULT NULL, currency_override VARCHAR(3) DEFAULT NULL, priority_level INT DEFAULT 1 NOT NULL, effective_from DATETIME NOT NULL, effective_until DATETIME DEFAULT NULL, is_active TINYINT(1) DEFAULT 1 NOT NULL, auto_renewal TINYINT(1) DEFAULT 0 NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME DEFAULT NULL, INDEX IDX_D0296065B03A8386 (created_by_id), INDEX IDX_D0296065896DBBDE (updated_by_id), INDEX IDX_CUSTOMER_PRICING_CUSTOMER (customer_id), INDEX IDX_CUSTOMER_PRICING_TABLE (base_pricing_table_id), INDEX IDX_CUSTOMER_PRICING_ACTIVE (is_active), INDEX IDX_CUSTOMER_PRICING_EFFECTIVE (effective_from, effective_until), UNIQUE INDEX UNQ_CUSTOMER_PRICING_CUSTOMER_TABLE (customer_id, base_pricing_table_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB');
        $this->addSql('CREATE TABLE v2_customer_pricing_audit (id INT AUTO_INCREMENT NOT NULL, customer_pricing_id INT NOT NULL, created_by_id INT DEFAULT NULL, action VARCHAR(20) NOT NULL, description LONGTEXT DEFAULT NULL, old_values JSON DEFAULT NULL, new_values JSON DEFAULT NULL, metadata JSON DEFAULT NULL, user_agent VARCHAR(255) DEFAULT NULL, ip_address VARCHAR(45) DEFAULT NULL, created_at DATETIME NOT NULL, INDEX IDX_PRICING_AUDIT_CUSTOMER_PRICING (customer_pricing_id), INDEX IDX_PRICING_AUDIT_ACTION (action), INDEX IDX_PRICING_AUDIT_DATE (created_at), INDEX IDX_PRICING_AUDIT_USER (created_by_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB');
        $this->addSql('CREATE TABLE v2_order_items (id INT AUTO_INCREMENT NOT NULL, order_id INT NOT NULL, name VARCHAR(255) NOT NULL, description LONGTEXT DEFAULT NULL, sku VARCHAR(100) DEFAULT NULL, quantity INT NOT NULL, unit_price NUMERIC(10, 2) NOT NULL, total_price NUMERIC(10, 2) NOT NULL, weight NUMERIC(8, 3) DEFAULT NULL, width NUMERIC(8, 2) DEFAULT NULL, height NUMERIC(8, 2) DEFAULT NULL, length NUMERIC(8, 2) DEFAULT NULL, metadata JSON DEFAULT NULL, INDEX IDX_E3DB30718D9F6D38 (order_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB');
        $this->addSql('CREATE TABLE v2_orders (id INT AUTO_INCREMENT NOT NULL, customer_id INT NOT NULL, created_by_id INT DEFAULT NULL, order_number VARCHAR(50) NOT NULL, status VARCHAR(50) NOT NULL, total_amount NUMERIC(10, 2) NOT NULL, currency VARCHAR(3) NOT NULL, notes LONGTEXT DEFAULT NULL, metadata JSON DEFAULT NULL, created_at DATETIME NOT NULL COMMENT \'(DC2Type:datetime_immutable)\', updated_at DATETIME DEFAULT NULL COMMENT \'(DC2Type:datetime_immutable)\', confirmed_at DATETIME DEFAULT NULL COMMENT \'(DC2Type:datetime_immutable)\', shipped_at DATETIME DEFAULT NULL COMMENT \'(DC2Type:datetime_immutable)\', delivered_at DATETIME DEFAULT NULL COMMENT \'(DC2Type:datetime_immutable)\', UNIQUE INDEX UNIQ_23283FE2551F0F81 (order_number), INDEX IDX_23283FE29395C3F3 (customer_id), INDEX IDX_23283FE2B03A8386 (created_by_id), INDEX idx_order_status (status), INDEX idx_order_created (created_at), INDEX idx_customer_status (customer_id, status), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB');
        $this->addSql('CREATE TABLE v2_pricing_rules (id INT AUTO_INCREMENT NOT NULL, pricing_table_id INT NOT NULL, name VARCHAR(100) DEFAULT NULL, weight_from NUMERIC(8, 3) NOT NULL, weight_to NUMERIC(8, 3) DEFAULT NULL, dimensions_from JSON DEFAULT NULL, dimensions_to JSON DEFAULT NULL, calculation_method VARCHAR(20) NOT NULL, price NUMERIC(10, 4) NOT NULL, price_per_kg NUMERIC(10, 4) DEFAULT NULL, weight_step NUMERIC(8, 3) DEFAULT NULL, min_price NUMERIC(10, 4) DEFAULT NULL, max_price NUMERIC(10, 4) DEFAULT NULL, tax_rate_override NUMERIC(5, 2) DEFAULT NULL, config JSON DEFAULT NULL, sort_order INT DEFAULT 0 NOT NULL, is_active TINYINT(1) DEFAULT 1 NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME DEFAULT NULL, INDEX IDX_RULE_TABLE (pricing_table_id), INDEX IDX_RULE_WEIGHT_RANGE (weight_from, weight_to), INDEX IDX_RULE_SORT (sort_order), UNIQUE INDEX UNQ_PRICING_RULE_TABLE_WEIGHT (pricing_table_id, weight_from, weight_to), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB');
        $this->addSql('CREATE TABLE v2_promotional_pricing (id INT AUTO_INCREMENT NOT NULL, pricing_table_id INT DEFAULT NULL, customer_pricing_id INT DEFAULT NULL, created_by_id INT DEFAULT NULL, updated_by_id INT DEFAULT NULL, name VARCHAR(100) NOT NULL, description LONGTEXT DEFAULT NULL, promo_code VARCHAR(50) DEFAULT NULL, discount_type VARCHAR(20) NOT NULL, discount_value NUMERIC(10, 4) NOT NULL, minimum_order_value NUMERIC(10, 4) DEFAULT NULL, maximum_discount_amount NUMERIC(10, 4) DEFAULT NULL, target_type VARCHAR(20) NOT NULL, target_values JSON DEFAULT NULL, promotion_config JSON DEFAULT NULL, valid_from DATETIME NOT NULL, valid_until DATETIME NOT NULL, usage_limit INT DEFAULT NULL, usage_limit_type VARCHAR(20) DEFAULT NULL, usage_count INT DEFAULT 0 NOT NULL, priority INT DEFAULT 1 NOT NULL, stackable TINYINT(1) DEFAULT 0 NOT NULL, is_active TINYINT(1) DEFAULT 1 NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME DEFAULT NULL, UNIQUE INDEX UNIQ_D537038E3D8C939E (promo_code), INDEX IDX_D537038EB03A8386 (created_by_id), INDEX IDX_D537038E896DBBDE (updated_by_id), INDEX IDX_PROMO_PRICING_TABLE (pricing_table_id), INDEX IDX_PROMO_CUSTOMER_PRICING (customer_pricing_id), INDEX IDX_PROMO_CODE (promo_code), INDEX IDX_PROMO_ACTIVE (is_active), INDEX IDX_PROMO_PERIOD (valid_from, valid_until), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB');
        $this->addSql('CREATE TABLE v2_shipment_items (id INT AUTO_INCREMENT NOT NULL, shipment_id INT NOT NULL, order_item_id INT DEFAULT NULL, name VARCHAR(255) NOT NULL, description LONGTEXT DEFAULT NULL, sku VARCHAR(100) DEFAULT NULL, quantity INT NOT NULL, weight NUMERIC(8, 3) NOT NULL, width NUMERIC(8, 2) DEFAULT NULL, height NUMERIC(8, 2) DEFAULT NULL, length NUMERIC(8, 2) DEFAULT NULL, value NUMERIC(10, 2) NOT NULL, metadata JSON DEFAULT NULL, INDEX IDX_1AAEFDC67BE036FC (shipment_id), INDEX IDX_1AAEFDC6E415FB15 (order_item_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB');
        $this->addSql('CREATE TABLE v2_shipment_tracking (id INT AUTO_INCREMENT NOT NULL, shipment_id INT NOT NULL, status VARCHAR(100) NOT NULL, description LONGTEXT NOT NULL, location VARCHAR(255) DEFAULT NULL, event_date DATETIME NOT NULL COMMENT \'(DC2Type:datetime_immutable)\', created_at DATETIME NOT NULL COMMENT \'(DC2Type:datetime_immutable)\', raw_data JSON DEFAULT NULL, courier_event_id VARCHAR(100) DEFAULT NULL, notes LONGTEXT DEFAULT NULL, INDEX IDX_A0D3F25F7BE036FC (shipment_id), INDEX idx_tracking_event_date (event_date), INDEX idx_tracking_status (status), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB');
        $this->addSql('CREATE TABLE v2_shipments (id INT AUTO_INCREMENT NOT NULL, order_id INT NOT NULL, tracking_number VARCHAR(100) NOT NULL, courier_shipment_id VARCHAR(100) DEFAULT NULL, courier_service VARCHAR(50) NOT NULL, status VARCHAR(50) NOT NULL, sender_name VARCHAR(255) NOT NULL, sender_email VARCHAR(255) NOT NULL, sender_address LONGTEXT NOT NULL, sender_postal_code VARCHAR(20) NOT NULL, sender_city VARCHAR(100) NOT NULL, sender_country VARCHAR(100) NOT NULL, sender_phone VARCHAR(20) DEFAULT NULL, recipient_name VARCHAR(255) NOT NULL, recipient_email VARCHAR(255) NOT NULL, recipient_address LONGTEXT NOT NULL, recipient_postal_code VARCHAR(20) NOT NULL, recipient_city VARCHAR(100) NOT NULL, recipient_country VARCHAR(100) NOT NULL, recipient_phone VARCHAR(20) NOT NULL, total_weight NUMERIC(8, 3) NOT NULL, total_value NUMERIC(10, 2) NOT NULL, currency VARCHAR(3) NOT NULL, service_type VARCHAR(50) NOT NULL, special_instructions LONGTEXT DEFAULT NULL, label_url LONGTEXT DEFAULT NULL, shipping_cost NUMERIC(10, 2) DEFAULT NULL, cod_amount NUMERIC(10, 2) DEFAULT NULL, insurance_amount NUMERIC(10, 2) DEFAULT NULL, courier_metadata JSON DEFAULT NULL, created_at DATETIME NOT NULL COMMENT \'(DC2Type:datetime_immutable)\', updated_at DATETIME DEFAULT NULL COMMENT \'(DC2Type:datetime_immutable)\', dispatched_at DATETIME DEFAULT NULL COMMENT \'(DC2Type:datetime_immutable)\', delivered_at DATETIME DEFAULT NULL COMMENT \'(DC2Type:datetime_immutable)\', estimated_delivery_at DATETIME DEFAULT NULL COMMENT \'(DC2Type:datetime_immutable)\', UNIQUE INDEX UNIQ_FADB43193E1C9C18 (tracking_number), INDEX IDX_FADB43198D9F6D38 (order_id), INDEX idx_tracking_number (tracking_number), INDEX idx_shipment_status (status), INDEX idx_courier_service (courier_service), INDEX idx_shipment_created (created_at), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB');
        $this->addSql('CREATE TABLE messenger_messages (id BIGINT AUTO_INCREMENT NOT NULL, body LONGTEXT NOT NULL, headers LONGTEXT NOT NULL, queue_name VARCHAR(190) NOT NULL, created_at DATETIME NOT NULL COMMENT \'(DC2Type:datetime_immutable)\', available_at DATETIME NOT NULL COMMENT \'(DC2Type:datetime_immutable)\', delivered_at DATETIME DEFAULT NULL COMMENT \'(DC2Type:datetime_immutable)\', INDEX IDX_75EA56E0FB7336F0 (queue_name), INDEX IDX_75EA56E0E3BD61CE (available_at), INDEX IDX_75EA56E016BA31DB (delivered_at), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB');
        $this->addSql('ALTER TABLE v2_additional_service_prices ADD CONSTRAINT FK_6D0634D6ACE1D8B4 FOREIGN KEY (pricing_table_id) REFERENCES v2_pricing_tables (id) ON DELETE CASCADE');
        $this->addSql('ALTER TABLE v2_additional_service_prices ADD CONSTRAINT FK_6D0634D6F8E98E09 FOREIGN KEY (additional_service_id) REFERENCES v2_additional_services (id) ON DELETE CASCADE');
        $this->addSql('ALTER TABLE v2_additional_services ADD CONSTRAINT FK_B35CC9AE21DFC797 FOREIGN KEY (carrier_id) REFERENCES v2_carriers (id)');
        $this->addSql('ALTER TABLE v2_customer_pricing ADD CONSTRAINT FK_D02960659395C3F3 FOREIGN KEY (customer_id) REFERENCES v2_customers (id)');
        $this->addSql('ALTER TABLE v2_customer_pricing ADD CONSTRAINT FK_D029606598ECB511 FOREIGN KEY (base_pricing_table_id) REFERENCES v2_pricing_tables (id)');
        $this->addSql('ALTER TABLE v2_customer_pricing ADD CONSTRAINT FK_D0296065B03A8386 FOREIGN KEY (created_by_id) REFERENCES v2_system_users (id)');
        $this->addSql('ALTER TABLE v2_customer_pricing ADD CONSTRAINT FK_D0296065896DBBDE FOREIGN KEY (updated_by_id) REFERENCES v2_system_users (id)');
        $this->addSql('ALTER TABLE v2_customer_pricing_audit ADD CONSTRAINT FK_89982FC575ADABF1 FOREIGN KEY (customer_pricing_id) REFERENCES v2_customer_pricing (id) ON DELETE CASCADE');
        $this->addSql('ALTER TABLE v2_customer_pricing_audit ADD CONSTRAINT FK_89982FC5B03A8386 FOREIGN KEY (created_by_id) REFERENCES v2_system_users (id)');
        $this->addSql('ALTER TABLE v2_order_items ADD CONSTRAINT FK_E3DB30718D9F6D38 FOREIGN KEY (order_id) REFERENCES v2_orders (id)');
        $this->addSql('ALTER TABLE v2_orders ADD CONSTRAINT FK_23283FE29395C3F3 FOREIGN KEY (customer_id) REFERENCES v2_customers (id)');
        $this->addSql('ALTER TABLE v2_orders ADD CONSTRAINT FK_23283FE2B03A8386 FOREIGN KEY (created_by_id) REFERENCES v2_customer_users (id)');
        $this->addSql('ALTER TABLE v2_pricing_rules ADD CONSTRAINT FK_DFEEA9BCACE1D8B4 FOREIGN KEY (pricing_table_id) REFERENCES v2_pricing_tables (id) ON DELETE CASCADE');
        $this->addSql('ALTER TABLE v2_promotional_pricing ADD CONSTRAINT FK_D537038EACE1D8B4 FOREIGN KEY (pricing_table_id) REFERENCES v2_pricing_tables (id)');
        $this->addSql('ALTER TABLE v2_promotional_pricing ADD CONSTRAINT FK_D537038E75ADABF1 FOREIGN KEY (customer_pricing_id) REFERENCES v2_customer_pricing (id)');
        $this->addSql('ALTER TABLE v2_promotional_pricing ADD CONSTRAINT FK_D537038EB03A8386 FOREIGN KEY (created_by_id) REFERENCES v2_system_users (id)');
        $this->addSql('ALTER TABLE v2_promotional_pricing ADD CONSTRAINT FK_D537038E896DBBDE FOREIGN KEY (updated_by_id) REFERENCES v2_system_users (id)');
        $this->addSql('ALTER TABLE v2_shipment_items ADD CONSTRAINT FK_1AAEFDC67BE036FC FOREIGN KEY (shipment_id) REFERENCES v2_shipments (id)');
        $this->addSql('ALTER TABLE v2_shipment_items ADD CONSTRAINT FK_1AAEFDC6E415FB15 FOREIGN KEY (order_item_id) REFERENCES v2_order_items (id)');
        $this->addSql('ALTER TABLE v2_shipment_tracking ADD CONSTRAINT FK_A0D3F25F7BE036FC FOREIGN KEY (shipment_id) REFERENCES v2_shipments (id)');
        $this->addSql('ALTER TABLE v2_shipments ADD CONSTRAINT FK_FADB43198D9F6D38 FOREIGN KEY (order_id) REFERENCES v2_orders (id)');
        $this->addSql('ALTER TABLE api_keys DROP FOREIGN KEY api_keys_customer_id_foreign');
        $this->addSql('ALTER TABLE cms_media DROP FOREIGN KEY cms_media_uploaded_by_foreign');
        $this->addSql('ALTER TABLE cms_notification_banners DROP FOREIGN KEY cms_notification_banners_created_by_foreign');
        $this->addSql('ALTER TABLE cms_pages DROP FOREIGN KEY cms_pages_created_by_foreign');
        $this->addSql('ALTER TABLE cms_pages DROP FOREIGN KEY cms_pages_updated_by_foreign');
        $this->addSql('ALTER TABLE cms_settings DROP FOREIGN KEY cms_settings_updated_by_foreign');
        $this->addSql('ALTER TABLE complaint_files DROP FOREIGN KEY complaint_files_complaint_id_foreign');
        $this->addSql('ALTER TABLE complaint_files DROP FOREIGN KEY complaint_files_uploaded_by_foreign');
        $this->addSql('ALTER TABLE complaint_messages DROP FOREIGN KEY complaint_messages_complaint_id_foreign');
        $this->addSql('ALTER TABLE complaint_sla_rules DROP FOREIGN KEY complaint_sla_rules_complaint_topic_id_foreign');
        $this->addSql('ALTER TABLE courier_api_logs DROP FOREIGN KEY courier_api_logs_shipment_id_foreign');
        $this->addSql('ALTER TABLE courier_points DROP FOREIGN KEY courier_points_courier_service_id_foreign');
        $this->addSql('ALTER TABLE customer_complaints DROP FOREIGN KEY customer_complaints_assigned_to_foreign');
        $this->addSql('ALTER TABLE customer_complaints DROP FOREIGN KEY customer_complaints_complaint_topic_id_foreign');
        $this->addSql('ALTER TABLE customer_complaints DROP FOREIGN KEY customer_complaints_customer_id_foreign');
        $this->addSql('ALTER TABLE customer_complaints DROP FOREIGN KEY customer_complaints_customer_user_id_foreign');
        $this->addSql('ALTER TABLE customer_complaints DROP FOREIGN KEY customer_complaints_resolved_by_foreign');
        $this->addSql('ALTER TABLE customer_complaints DROP FOREIGN KEY customer_complaints_shipment_id_foreign');
        $this->addSql('ALTER TABLE customer_users DROP FOREIGN KEY customer_users_customer_id_foreign');
        $this->addSql('ALTER TABLE orders DROP FOREIGN KEY orders_customer_id_foreign');
        $this->addSql('ALTER TABLE orders DROP FOREIGN KEY orders_customer_user_id_foreign');
        $this->addSql('ALTER TABLE payments DROP FOREIGN KEY payments_customer_id_foreign');
        $this->addSql('ALTER TABLE payments DROP FOREIGN KEY payments_customer_user_id_foreign');
        $this->addSql('ALTER TABLE role_permissions DROP FOREIGN KEY role_permissions_permission_id_foreign');
        $this->addSql('ALTER TABLE shipments DROP FOREIGN KEY shipments_courier_service_id_foreign');
        $this->addSql('ALTER TABLE shipments DROP FOREIGN KEY shipments_customer_id_foreign');
        $this->addSql('ALTER TABLE shipments DROP FOREIGN KEY shipments_customer_user_id_foreign');
        $this->addSql('ALTER TABLE shipments DROP FOREIGN KEY shipments_order_id_foreign');
        $this->addSql('ALTER TABLE subscriptions DROP FOREIGN KEY subscriptions_customer_id_foreign');
        $this->addSql('ALTER TABLE transactions DROP FOREIGN KEY transactions_customer_id_foreign');
        $this->addSql('ALTER TABLE transactions DROP FOREIGN KEY transactions_payment_id_foreign');
        $this->addSql('DROP TABLE activity_log');
        $this->addSql('DROP TABLE api_keys');
        $this->addSql('DROP TABLE audit_logs');
        $this->addSql('DROP TABLE cache');
        $this->addSql('DROP TABLE cache_locks');
        $this->addSql('DROP TABLE cms_media');
        $this->addSql('DROP TABLE cms_notification_banners');
        $this->addSql('DROP TABLE cms_pages');
        $this->addSql('DROP TABLE cms_settings');
        $this->addSql('DROP TABLE complaint_files');
        $this->addSql('DROP TABLE complaint_messages');
        $this->addSql('DROP TABLE complaint_sla_rules');
        $this->addSql('DROP TABLE complaint_topics');
        $this->addSql('DROP TABLE courier_api_logs');
        $this->addSql('DROP TABLE courier_points');
        $this->addSql('DROP TABLE courier_services');
        $this->addSql('DROP TABLE customer_complaints');
        $this->addSql('DROP TABLE customer_service_integrations');
        $this->addSql('DROP TABLE customer_users');
        $this->addSql('DROP TABLE customers');
        $this->addSql('DROP TABLE failed_jobs');
        $this->addSql('DROP TABLE job_batches');
        $this->addSql('DROP TABLE jobs');
        $this->addSql('DROP TABLE migrations');
        $this->addSql('DROP TABLE notifications');
        $this->addSql('DROP TABLE orders');
        $this->addSql('DROP TABLE password_reset_tokens');
        $this->addSql('DROP TABLE payments');
        $this->addSql('DROP TABLE permissions');
        $this->addSql('DROP TABLE personal_access_tokens');
        $this->addSql('DROP TABLE role_permissions');
        $this->addSql('DROP TABLE sessions');
        $this->addSql('DROP TABLE shipments');
        $this->addSql('DROP TABLE subscriptions');
        $this->addSql('DROP TABLE system_settings');
        $this->addSql('DROP TABLE system_users');
        $this->addSql('DROP TABLE transactions');
        $this->addSql('DROP TABLE users');
        $this->addSql('ALTER TABLE invoice_items RENAME INDEX idx_invoice_items_invoice_id TO IDX_DCC4B9F82989F1FD');
        $this->addSql('DROP INDEX idx_invoice_number ON invoices');
        $this->addSql('ALTER TABLE secret_audit_logs CHANGE secret_id secret_id BINARY(16) DEFAULT NULL COMMENT \'(DC2Type:uuid)\'');
        $this->addSql('ALTER TABLE v2_carriers CHANGE created_at created_at DATETIME NOT NULL COMMENT \'(DC2Type:datetime_immutable)\', CHANGE updated_at updated_at DATETIME DEFAULT NULL COMMENT \'(DC2Type:datetime_immutable)\'');
        $this->addSql('ALTER TABLE v2_carriers RENAME INDEX uniq_carrier_code TO UNIQ_D697802277153098');
        $this->addSql('ALTER TABLE v2_credit_accounts CHANGE status status VARCHAR(50) NOT NULL, CHANGE used_credit used_credit NUMERIC(10, 2) NOT NULL, CHANGE overdraft_limit overdraft_limit NUMERIC(10, 2) NOT NULL, CHANGE payment_term_days payment_term_days SMALLINT NOT NULL, CHANGE currency currency VARCHAR(3) NOT NULL, CHANGE last_credit_review_date last_credit_review_date DATE DEFAULT NULL COMMENT \'(DC2Type:date_immutable)\', CHANGE next_review_date next_review_date DATE DEFAULT NULL COMMENT \'(DC2Type:date_immutable)\'');
        $this->addSql('ALTER TABLE v2_credit_accounts ADD CONSTRAINT FK_BD8257EBA76ED395 FOREIGN KEY (user_id) REFERENCES v2_system_users (id)');
        $this->addSql('CREATE INDEX IDX_BD8257EBA76ED395 ON v2_credit_accounts (user_id)');
        $this->addSql('ALTER TABLE v2_credit_accounts RENAME INDEX uniq_credit_account_number TO UNIQ_BD8257EBB1A4D127');
        $this->addSql('DROP INDEX IDX_CREDIT_ACCOUNT ON v2_credit_transactions');
        $this->addSql('DROP INDEX IDX_PAYMENT ON v2_credit_transactions');
        $this->addSql('ALTER TABLE v2_credit_transactions CHANGE status status VARCHAR(50) NOT NULL, CHANGE currency currency VARCHAR(3) NOT NULL');
        $this->addSql('ALTER TABLE v2_credit_transactions ADD CONSTRAINT FK_B6E294174C3A3BB FOREIGN KEY (payment_id) REFERENCES v2_payments (id)');
        $this->addSql('ALTER TABLE v2_credit_transactions RENAME INDEX uniq_credit_transaction_id TO UNIQ_B6E294172FC0CB0F');
        $this->addSql('ALTER TABLE v2_customer_users DROP FOREIGN KEY FK_V2_CUSTOMER_USER_CUSTOMER');
        $this->addSql('ALTER TABLE v2_customer_users CHANGE customer_role customer_role VARCHAR(50) NOT NULL, CHANGE status status VARCHAR(50) NOT NULL');
        $this->addSql('ALTER TABLE v2_customer_users ADD CONSTRAINT FK_ADCB66FC9395C3F3 FOREIGN KEY (customer_id) REFERENCES v2_customers (id)');
        $this->addSql('ALTER TABLE v2_customer_users RENAME INDEX idx_customer_user_customer TO IDX_ADCB66FC9395C3F3');
        $this->addSql('ALTER TABLE v2_customers CHANGE type type VARCHAR(50) NOT NULL, CHANGE status status VARCHAR(50) NOT NULL');
        $this->addSql('ALTER TABLE v2_invitations DROP FOREIGN KEY FK_V2_INVITATION_CUSTOMER');
        $this->addSql('ALTER TABLE v2_invitations DROP FOREIGN KEY FK_V2_INVITATION_INVITED_BY');
        $this->addSql('ALTER TABLE v2_invitations DROP FOREIGN KEY FK_V2_INVITATION_ACCEPTED_BY');
        $this->addSql('DROP INDEX IDX_INVITATION_EMAIL ON v2_invitations');
        $this->addSql('DROP INDEX IDX_INVITATION_STATUS ON v2_invitations');
        $this->addSql('ALTER TABLE v2_invitations CHANGE customer_role customer_role VARCHAR(50) NOT NULL, CHANGE status status VARCHAR(50) NOT NULL');
        $this->addSql('ALTER TABLE v2_invitations ADD CONSTRAINT FK_A27CBD6F9395C3F3 FOREIGN KEY (customer_id) REFERENCES v2_customers (id)');
        $this->addSql('ALTER TABLE v2_invitations ADD CONSTRAINT FK_A27CBD6FA7B4A7E3 FOREIGN KEY (invited_by_id) REFERENCES v2_customer_users (id)');
        $this->addSql('ALTER TABLE v2_invitations ADD CONSTRAINT FK_A27CBD6F20F699D9 FOREIGN KEY (accepted_by_id) REFERENCES v2_customer_users (id)');
        $this->addSql('ALTER TABLE v2_invitations RENAME INDEX uniq_invitation_token TO UNIQ_A27CBD6F5F37A13B');
        $this->addSql('ALTER TABLE v2_invitations RENAME INDEX idx_invitation_customer TO IDX_A27CBD6F9395C3F3');
        $this->addSql('ALTER TABLE v2_invitations RENAME INDEX idx_invitation_invited_by TO IDX_A27CBD6FA7B4A7E3');
        $this->addSql('ALTER TABLE v2_invitations RENAME INDEX idx_invitation_accepted_by TO IDX_A27CBD6F20F699D9');
        $this->addSql('ALTER TABLE v2_payments CHANGE currency currency VARCHAR(3) NOT NULL, CHANGE status status VARCHAR(50) NOT NULL');
        $this->addSql('ALTER TABLE v2_payments ADD CONSTRAINT FK_BC0DB1A5A76ED395 FOREIGN KEY (user_id) REFERENCES v2_system_users (id)');
        $this->addSql('ALTER TABLE v2_payments RENAME INDEX uniq_payment_id TO UNIQ_BC0DB1A54C3A3BB');
        $this->addSql('ALTER TABLE v2_payments RENAME INDEX idx_payment_user TO IDX_BC0DB1A5A76ED395');
        $this->addSql('ALTER TABLE v2_preliminary_registrations CHANGE country country VARCHAR(2) DEFAULT NULL, CHANGE email_verified email_verified TINYINT(1) NOT NULL');
        $this->addSql('ALTER TABLE v2_preliminary_registrations RENAME INDEX uniq_v2_preliminary_registrations_token TO UNIQ_F52A94C55F37A13B');
        $this->addSql('ALTER TABLE v2_pricing_tables DROP FOREIGN KEY v2_pricing_tables_ibfk_1');
        $this->addSql('ALTER TABLE v2_pricing_tables DROP FOREIGN KEY v2_pricing_tables_ibfk_2');
        $this->addSql('ALTER TABLE v2_pricing_tables ADD created_by_id INT DEFAULT NULL, ADD updated_by_id INT DEFAULT NULL, ADD pricing_model VARCHAR(20) NOT NULL, ADD version INT DEFAULT 1 NOT NULL, ADD description LONGTEXT DEFAULT NULL, ADD min_weight_kg NUMERIC(8, 3) NOT NULL, ADD max_weight_kg NUMERIC(8, 3) DEFAULT NULL, ADD min_dimensions_cm JSON DEFAULT NULL, ADD max_dimensions_cm JSON DEFAULT NULL, ADD volumetric_divisor INT DEFAULT NULL, ADD tax_rate NUMERIC(5, 2) DEFAULT NULL, ADD config JSON DEFAULT NULL, ADD effective_from DATETIME NOT NULL COMMENT \'(DC2Type:datetime_immutable)\', ADD effective_until DATETIME DEFAULT NULL COMMENT \'(DC2Type:datetime_immutable)\', ADD updated_at DATETIME DEFAULT NULL COMMENT \'(DC2Type:datetime_immutable)\', CHANGE service_type service_type VARCHAR(50) NOT NULL, CHANGE currency currency VARCHAR(3) NOT NULL, CHANGE created_at created_at DATETIME NOT NULL COMMENT \'(DC2Type:datetime_immutable)\'');
        $this->addSql('ALTER TABLE v2_pricing_tables ADD CONSTRAINT FK_69A9F53121DFC797 FOREIGN KEY (carrier_id) REFERENCES v2_carriers (id)');
        $this->addSql('ALTER TABLE v2_pricing_tables ADD CONSTRAINT FK_69A9F5319F2C3FAB FOREIGN KEY (zone_id) REFERENCES v2_pricing_zones (id)');
        $this->addSql('ALTER TABLE v2_pricing_tables ADD CONSTRAINT FK_69A9F531B03A8386 FOREIGN KEY (created_by_id) REFERENCES v2_system_users (id)');
        $this->addSql('ALTER TABLE v2_pricing_tables ADD CONSTRAINT FK_69A9F531896DBBDE FOREIGN KEY (updated_by_id) REFERENCES v2_system_users (id)');
        $this->addSql('CREATE INDEX IDX_69A9F531B03A8386 ON v2_pricing_tables (created_by_id)');
        $this->addSql('CREATE INDEX IDX_69A9F531896DBBDE ON v2_pricing_tables (updated_by_id)');
        $this->addSql('CREATE INDEX IDX_PRICING_CARRIER_ZONE ON v2_pricing_tables (carrier_id, zone_id)');
        $this->addSql('CREATE INDEX IDX_PRICING_ACTIVE ON v2_pricing_tables (is_active)');
        $this->addSql('CREATE INDEX IDX_PRICING_EFFECTIVE ON v2_pricing_tables (effective_from, effective_until)');
        $this->addSql('CREATE INDEX IDX_PRICING_SERVICE ON v2_pricing_tables (service_type)');
        $this->addSql('CREATE UNIQUE INDEX UNQ_PRICING_CARRIER_ZONE_SERVICE_VERSION ON v2_pricing_tables (carrier_id, zone_id, service_type, version)');
        $this->addSql('ALTER TABLE v2_pricing_tables RENAME INDEX carrier_id TO IDX_69A9F53121DFC797');
        $this->addSql('ALTER TABLE v2_pricing_tables RENAME INDEX zone_id TO IDX_69A9F5319F2C3FAB');
        $this->addSql('ALTER TABLE v2_pricing_zones CHANGE code code VARCHAR(10) NOT NULL, CHANGE name name VARCHAR(100) NOT NULL, CHANGE description description LONGTEXT DEFAULT NULL, CHANGE created_at created_at DATETIME NOT NULL COMMENT \'(DC2Type:datetime_immutable)\', CHANGE updated_at updated_at DATETIME DEFAULT NULL COMMENT \'(DC2Type:datetime_immutable)\'');
        $this->addSql('CREATE INDEX IDX_ZONE_TYPE ON v2_pricing_zones (zone_type)');
        $this->addSql('CREATE INDEX IDX_ZONE_ACTIVE ON v2_pricing_zones (is_active)');
        $this->addSql('CREATE INDEX IDX_ZONE_SORT ON v2_pricing_zones (sort_order)');
        $this->addSql('ALTER TABLE v2_pricing_zones RENAME INDEX uniq_zone_code TO UNIQ_D3BE81E877153098');
        $this->addSql('ALTER TABLE v2_system_users CHANGE department department VARCHAR(50) NOT NULL, CHANGE status status VARCHAR(50) NOT NULL');
        $this->addSql('ALTER TABLE v2_wallet_top_ups CHANGE status status VARCHAR(50) NOT NULL, CHANGE currency currency VARCHAR(3) NOT NULL');
        $this->addSql('ALTER TABLE v2_wallet_top_ups RENAME INDEX uniq_wallet_top_up_id TO UNIQ_A420090190308D68');
        $this->addSql('ALTER TABLE v2_wallet_top_ups RENAME INDEX idx_wallet_top_up_transaction TO IDX_A4200901924C1837');
        $this->addSql('ALTER TABLE v2_wallet_transactions CHANGE status status VARCHAR(50) NOT NULL, CHANGE currency currency VARCHAR(3) NOT NULL');
        $this->addSql('ALTER TABLE v2_wallet_transactions RENAME INDEX uniq_wallet_transaction_id TO UNIQ_DFBD91F32FC0CB0F');
        $this->addSql('ALTER TABLE v2_wallets CHANGE status status VARCHAR(50) NOT NULL, CHANGE balance balance NUMERIC(15, 2) NOT NULL, CHANGE reserved_balance reserved_balance NUMERIC(15, 2) NOT NULL, CHANGE available_balance available_balance NUMERIC(15, 2) NOT NULL, CHANGE currency currency VARCHAR(3) NOT NULL, CHANGE low_balance_threshold low_balance_threshold NUMERIC(15, 2) NOT NULL, CHANGE low_balance_notification_sent low_balance_notification_sent TINYINT(1) NOT NULL');
        $this->addSql('ALTER TABLE v2_wallets ADD CONSTRAINT FK_9F0AE185A76ED395 FOREIGN KEY (user_id) REFERENCES v2_system_users (id)');
        $this->addSql('ALTER TABLE v2_wallets RENAME INDEX uniq_wallet_number TO UNIQ_9F0AE18526308010');
        $this->addSql('ALTER TABLE v2_wallets RENAME INDEX idx_wallet_user TO IDX_9F0AE185A76ED395');
    }

    public function down(Schema $schema): void
    {
        // this down() migration is auto-generated, please modify it to your needs
        $this->addSql('CREATE TABLE activity_log (id BIGINT UNSIGNED AUTO_INCREMENT NOT NULL, log_name VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, description TEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, subject_type VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, event VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, subject_id BIGINT UNSIGNED DEFAULT NULL, causer_type VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, causer_id BIGINT UNSIGNED DEFAULT NULL, properties JSON DEFAULT NULL, batch_uuid CHAR(36) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, created_at DATETIME DEFAULT NULL, updated_at DATETIME DEFAULT NULL, INDEX subject (subject_type, subject_id), INDEX causer (causer_type, causer_id), INDEX activity_log_log_name_index (log_name), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('CREATE TABLE api_keys (id BIGINT UNSIGNED AUTO_INCREMENT NOT NULL, customer_id BIGINT UNSIGNED DEFAULT NULL, `key` VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, name VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, scopes JSON DEFAULT NULL, status VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'active\' NOT NULL COLLATE `utf8mb4_unicode_ci`, rate_limit_per_minute INT UNSIGNED DEFAULT NULL, rate_limit_per_day INT UNSIGNED DEFAULT NULL, usage_minute INT UNSIGNED DEFAULT 0, usage_day INT UNSIGNED DEFAULT 0, usage_minute_reset_at DATETIME DEFAULT NULL, usage_day_reset_at DATETIME DEFAULT NULL, expires_at DATETIME DEFAULT NULL, last_used_at DATETIME DEFAULT NULL, meta JSON DEFAULT NULL, created_at DATETIME DEFAULT NULL, updated_at DATETIME DEFAULT NULL, UNIQUE INDEX api_keys_key_unique (`key`), INDEX api_keys_customer_id_foreign (customer_id), INDEX api_keys_status_index (status), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('CREATE TABLE audit_logs (id BIGINT UNSIGNED AUTO_INCREMENT NOT NULL, auditable_type VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, auditable_id BIGINT UNSIGNED NOT NULL, user_type VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, user_id BIGINT UNSIGNED NOT NULL, user_name VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, user_email VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, event VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, old_values JSON DEFAULT NULL, new_values JSON DEFAULT NULL, ip_address VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, user_agent VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, description TEXT CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, created_at DATETIME DEFAULT NULL, updated_at DATETIME DEFAULT NULL, INDEX audit_logs_auditable_type_auditable_id_index (auditable_type, auditable_id), INDEX audit_logs_user_type_user_id_index (user_type, user_id), INDEX audit_logs_event_index (event), INDEX audit_logs_created_at_index (created_at), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('CREATE TABLE cache (`key` VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, value MEDIUMTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, expiration INT NOT NULL, PRIMARY KEY(`key`)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('CREATE TABLE cache_locks (`key` VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, owner VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, expiration INT NOT NULL, PRIMARY KEY(`key`)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('CREATE TABLE cms_media (id BIGINT UNSIGNED AUTO_INCREMENT NOT NULL, uploaded_by BIGINT UNSIGNED NOT NULL, filename VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, original_name VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, mime_type VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, size INT NOT NULL, path VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, alt_text VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, description TEXT CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, metadata JSON DEFAULT NULL, created_at DATETIME DEFAULT NULL, updated_at DATETIME DEFAULT NULL, INDEX cms_media_mime_type_index (mime_type), INDEX cms_media_uploaded_by_index (uploaded_by), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('CREATE TABLE cms_notification_banners (id BIGINT UNSIGNED AUTO_INCREMENT NOT NULL, created_by BIGINT UNSIGNED NOT NULL, title VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, message TEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, type VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'info\' NOT NULL COLLATE `utf8mb4_unicode_ci`, position VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'top\' NOT NULL COLLATE `utf8mb4_unicode_ci`, is_active TINYINT(1) DEFAULT 1 NOT NULL, start_date DATETIME DEFAULT NULL, end_date DATETIME DEFAULT NULL, priority INT DEFAULT 0 NOT NULL, display_rules JSON DEFAULT NULL, created_at DATETIME DEFAULT NULL, updated_at DATETIME DEFAULT NULL, INDEX cms_notification_banners_created_by_foreign (created_by), INDEX cms_notification_banners_is_active_start_date_end_date_index (is_active, start_date, end_date), INDEX cms_notification_banners_priority_index (priority), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('CREATE TABLE cms_pages (id BIGINT UNSIGNED AUTO_INCREMENT NOT NULL, created_by BIGINT UNSIGNED NOT NULL, updated_by BIGINT UNSIGNED DEFAULT NULL, slug VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, title VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, meta_description TEXT CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, meta_keywords TEXT CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, content LONGTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, seo_data JSON DEFAULT NULL, is_published TINYINT(1) DEFAULT 0 NOT NULL, published_at DATETIME DEFAULT NULL, created_at DATETIME DEFAULT NULL, updated_at DATETIME DEFAULT NULL, UNIQUE INDEX cms_pages_slug_unique (slug), INDEX cms_pages_created_by_foreign (created_by), INDEX cms_pages_updated_by_foreign (updated_by), INDEX cms_pages_slug_is_published_index (slug, is_published), INDEX cms_pages_published_at_index (published_at), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('CREATE TABLE cms_settings (id BIGINT UNSIGNED AUTO_INCREMENT NOT NULL, updated_by BIGINT UNSIGNED DEFAULT NULL, `key` VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, value TEXT CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, type VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'text\' NOT NULL COLLATE `utf8mb4_unicode_ci`, `group` VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'general\' NOT NULL COLLATE `utf8mb4_unicode_ci`, description TEXT CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, created_at DATETIME DEFAULT NULL, updated_at DATETIME DEFAULT NULL, UNIQUE INDEX cms_settings_key_unique (`key`), INDEX cms_settings_updated_by_foreign (updated_by), INDEX cms_settings_key_group_index (`key`, `group`), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('CREATE TABLE complaint_files (id BIGINT UNSIGNED AUTO_INCREMENT NOT NULL, complaint_id BIGINT UNSIGNED NOT NULL, uploaded_by BIGINT UNSIGNED NOT NULL, filename VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, original_name VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, mime_type VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, size INT NOT NULL, path VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, created_at DATETIME DEFAULT NULL, updated_at DATETIME DEFAULT NULL, INDEX complaint_files_uploaded_by_foreign (uploaded_by), INDEX complaint_files_complaint_id_index (complaint_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('CREATE TABLE complaint_messages (id BIGINT UNSIGNED AUTO_INCREMENT NOT NULL, complaint_id BIGINT UNSIGNED NOT NULL, sender_type VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, sender_id BIGINT UNSIGNED DEFAULT NULL, message TEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, is_internal TINYINT(1) DEFAULT 0 NOT NULL, attachments JSON DEFAULT NULL, created_at DATETIME DEFAULT NULL, updated_at DATETIME DEFAULT NULL, INDEX complaint_messages_complaint_id_created_at_index (complaint_id, created_at), INDEX IDX_C71B3714EDAE188E (complaint_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('CREATE TABLE complaint_sla_rules (id BIGINT UNSIGNED AUTO_INCREMENT NOT NULL, complaint_topic_id BIGINT UNSIGNED NOT NULL, priority VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, first_response_hours INT NOT NULL, resolution_hours INT NOT NULL, is_active TINYINT(1) DEFAULT 1 NOT NULL, created_at DATETIME DEFAULT NULL, updated_at DATETIME DEFAULT NULL, UNIQUE INDEX complaint_sla_rules_complaint_topic_id_priority_unique (complaint_topic_id, priority), INDEX IDX_3468363D34C09BF (complaint_topic_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('CREATE TABLE complaint_topics (id BIGINT UNSIGNED AUTO_INCREMENT NOT NULL, name VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, description TEXT CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, is_active TINYINT(1) DEFAULT 1 NOT NULL, sort_order INT DEFAULT 0 NOT NULL, metadata JSON DEFAULT NULL, created_at DATETIME DEFAULT NULL, updated_at DATETIME DEFAULT NULL, INDEX complaint_topics_is_active_sort_order_index (is_active, sort_order), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('CREATE TABLE courier_api_logs (id BIGINT UNSIGNED AUTO_INCREMENT NOT NULL, shipment_id BIGINT UNSIGNED DEFAULT NULL, courier_service VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'inpost\' NOT NULL COLLATE `utf8mb4_unicode_ci`, action VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, request_data JSON DEFAULT NULL, response_data JSON DEFAULT NULL, status VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'success\' NOT NULL COLLATE `utf8mb4_unicode_ci`, error_message TEXT CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, created_at DATETIME DEFAULT NULL, updated_at DATETIME DEFAULT NULL, INDEX courier_api_logs_shipment_id_action_index (shipment_id, action), INDEX courier_api_logs_courier_service_created_at_index (courier_service, created_at), INDEX IDX_2195389E7BE036FC (shipment_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('CREATE TABLE courier_points (id BIGINT UNSIGNED AUTO_INCREMENT NOT NULL, courier_service_id BIGINT UNSIGNED NOT NULL, uuid CHAR(36) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, code VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, type VARCHAR(50) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, name VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, description VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, street VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, building_number VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, apartment_number VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, city VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, postal_code VARCHAR(12) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, country_code VARCHAR(2) CHARACTER SET utf8mb4 DEFAULT \'PL\' NOT NULL COLLATE `utf8mb4_unicode_ci`, latitude NUMERIC(10, 7) NOT NULL, longitude NUMERIC(10, 7) NOT NULL, opening_hours JSON DEFAULT NULL, functions JSON DEFAULT NULL, is_active TINYINT(1) DEFAULT 1 NOT NULL, metadata JSON DEFAULT NULL, external_id VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, created_at DATETIME DEFAULT NULL, updated_at DATETIME DEFAULT NULL, UNIQUE INDEX courier_points_courier_service_id_code_unique (courier_service_id, code), UNIQUE INDEX courier_points_uuid_unique (uuid), INDEX courier_points_code_index (code), INDEX courier_points_type_index (type), INDEX courier_points_city_index (city), INDEX courier_points_postal_code_index (postal_code), INDEX courier_points_latitude_index (latitude), INDEX courier_points_longitude_index (longitude), INDEX courier_points_is_active_index (is_active), INDEX IDX_84B50AE0C86255AB (courier_service_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('CREATE TABLE courier_services (id BIGINT UNSIGNED AUTO_INCREMENT NOT NULL, code VARCHAR(50) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, name VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, slug VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, logo_url VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, description TEXT CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, api_endpoint VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, api_credentials JSON DEFAULT NULL, is_active TINYINT(1) DEFAULT 1 NOT NULL, is_sandbox TINYINT(1) DEFAULT 0 NOT NULL, supported_services JSON NOT NULL, service_configuration JSON DEFAULT NULL, pricing_rules JSON DEFAULT NULL, sort_order INT DEFAULT 0 NOT NULL, created_at DATETIME DEFAULT NULL, updated_at DATETIME DEFAULT NULL, UNIQUE INDEX courier_services_code_unique (code), UNIQUE INDEX courier_services_slug_unique (slug), INDEX courier_services_is_active_sort_order_index (is_active, sort_order), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('CREATE TABLE customer_complaints (id BIGINT UNSIGNED AUTO_INCREMENT NOT NULL, customer_id BIGINT UNSIGNED NOT NULL, customer_user_id BIGINT UNSIGNED NOT NULL, shipment_id BIGINT UNSIGNED DEFAULT NULL, complaint_topic_id BIGINT UNSIGNED NOT NULL, assigned_to BIGINT UNSIGNED DEFAULT NULL, resolved_by BIGINT UNSIGNED DEFAULT NULL, complaint_number VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, subject VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, description TEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, priority VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'medium\' NOT NULL COLLATE `utf8mb4_unicode_ci`, status VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'open\' NOT NULL COLLATE `utf8mb4_unicode_ci`, freshdesk_ticket_id VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, freshdesk_data JSON DEFAULT NULL, assigned_at DATETIME DEFAULT NULL, resolution TEXT CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, resolved_at DATETIME DEFAULT NULL, contact_email VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, contact_phone VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, preferred_contact_method VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'email\' NOT NULL COLLATE `utf8mb4_unicode_ci`, created_at DATETIME DEFAULT NULL, updated_at DATETIME DEFAULT NULL, UNIQUE INDEX customer_complaints_complaint_number_unique (complaint_number), INDEX customer_complaints_customer_user_id_foreign (customer_user_id), INDEX customer_complaints_shipment_id_foreign (shipment_id), INDEX customer_complaints_complaint_topic_id_foreign (complaint_topic_id), INDEX customer_complaints_assigned_to_foreign (assigned_to), INDEX customer_complaints_resolved_by_foreign (resolved_by), INDEX customer_complaints_customer_id_status_index (customer_id, status), INDEX customer_complaints_complaint_number_index (complaint_number), INDEX customer_complaints_status_priority_index (status, priority), INDEX customer_complaints_freshdesk_ticket_id_index (freshdesk_ticket_id), INDEX IDX_5D93ABB89395C3F3 (customer_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('CREATE TABLE customer_service_integrations (id BIGINT UNSIGNED AUTO_INCREMENT NOT NULL, service_name VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, is_enabled TINYINT(1) DEFAULT 0 NOT NULL, configuration JSON NOT NULL, webhook_settings JSON DEFAULT NULL, last_sync_at DATETIME DEFAULT NULL, sync_status JSON DEFAULT NULL, created_at DATETIME DEFAULT NULL, updated_at DATETIME DEFAULT NULL, UNIQUE INDEX customer_service_integrations_service_name_unique (service_name), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('CREATE TABLE customer_users (id BIGINT UNSIGNED AUTO_INCREMENT NOT NULL, customer_id BIGINT UNSIGNED NOT NULL, uuid CHAR(36) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, first_name VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, last_name VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, email VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, email_verified_at DATETIME DEFAULT NULL, password VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, phone VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, role VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'user\' NOT NULL COLLATE `utf8mb4_unicode_ci`, permissions JSON DEFAULT NULL, notification_preferences JSON DEFAULT NULL, is_active TINYINT(1) DEFAULT 1 NOT NULL, is_primary TINYINT(1) DEFAULT 0 NOT NULL, last_login_at DATETIME DEFAULT NULL, last_login_ip VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, remember_token VARCHAR(100) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, created_at DATETIME DEFAULT NULL, updated_at DATETIME DEFAULT NULL, UNIQUE INDEX customer_users_customer_id_email_unique (customer_id, email), UNIQUE INDEX customer_users_uuid_unique (uuid), UNIQUE INDEX customer_users_email_unique (email), INDEX customer_users_customer_id_is_active_index (customer_id, is_active), INDEX customer_users_email_is_active_index (email, is_active), INDEX IDX_DAB6D0D29395C3F3 (customer_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('CREATE TABLE customers (id BIGINT UNSIGNED AUTO_INCREMENT NOT NULL, uuid CHAR(36) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, company_name VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, company_short_name VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, nip VARCHAR(20) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, regon VARCHAR(20) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, krs VARCHAR(20) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, company_address TEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, city VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, postal_code VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, country VARCHAR(2) CHARACTER SET utf8mb4 DEFAULT \'PL\' NOT NULL COLLATE `utf8mb4_unicode_ci`, phone VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, address TEXT CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, email VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, website VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, status VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'pending\' NOT NULL COLLATE `utf8mb4_unicode_ci`, credit_limit NUMERIC(10, 2) DEFAULT \'0.00\' NOT NULL, current_balance NUMERIC(10, 2) DEFAULT \'0.00\' NOT NULL, api_key VARCHAR(64) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, cod_return_account VARCHAR(34) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, settlement_account VARCHAR(34) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, settings JSON DEFAULT NULL, notification_preferences JSON DEFAULT NULL, contract_signed_at DATETIME DEFAULT NULL, verified_at DATETIME DEFAULT NULL, verification_code VARCHAR(6) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, verification_code_expires_at DATETIME DEFAULT NULL, verification_token VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, verification_token_expires_at DATETIME DEFAULT NULL, email_verified TINYINT(1) DEFAULT 0 NOT NULL, created_at DATETIME DEFAULT NULL, updated_at DATETIME DEFAULT NULL, UNIQUE INDEX customers_uuid_unique (uuid), UNIQUE INDEX customers_nip_unique (nip), UNIQUE INDEX customers_api_key_unique (api_key), INDEX customers_status_verified_at_index (status, verified_at), INDEX customers_api_key_index (api_key), INDEX customers_nip_index (nip), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('CREATE TABLE failed_jobs (id BIGINT UNSIGNED AUTO_INCREMENT NOT NULL, uuid VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, connection TEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, queue TEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, payload LONGTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, exception LONGTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, failed_at DATETIME DEFAULT CURRENT_TIMESTAMP NOT NULL, UNIQUE INDEX failed_jobs_uuid_unique (uuid), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('CREATE TABLE job_batches (id VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, name VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, total_jobs INT NOT NULL, pending_jobs INT NOT NULL, failed_jobs INT NOT NULL, failed_job_ids LONGTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, options MEDIUMTEXT CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, cancelled_at INT DEFAULT NULL, created_at INT NOT NULL, finished_at INT DEFAULT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('CREATE TABLE jobs (id BIGINT UNSIGNED AUTO_INCREMENT NOT NULL, queue VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, payload LONGTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, attempts TINYINT(1) NOT NULL, reserved_at INT UNSIGNED DEFAULT NULL, available_at INT UNSIGNED NOT NULL, created_at INT UNSIGNED NOT NULL, INDEX jobs_queue_index (queue), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('CREATE TABLE migrations (id INT UNSIGNED AUTO_INCREMENT NOT NULL, migration VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, batch INT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('CREATE TABLE notifications (id CHAR(36) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, type VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, notifiable_type VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, notifiable_id BIGINT UNSIGNED NOT NULL, data TEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, read_at DATETIME DEFAULT NULL, created_at DATETIME DEFAULT NULL, updated_at DATETIME DEFAULT NULL, INDEX notifications_notifiable_type_notifiable_id_index (notifiable_type, notifiable_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('CREATE TABLE orders (id BIGINT UNSIGNED AUTO_INCREMENT NOT NULL, customer_id BIGINT UNSIGNED NOT NULL, customer_user_id BIGINT UNSIGNED NOT NULL, uuid CHAR(36) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, order_number VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, status VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'pending\' NOT NULL COLLATE `utf8mb4_unicode_ci`, total_amount NUMERIC(10, 2) NOT NULL, currency VARCHAR(3) CHARACTER SET utf8mb4 DEFAULT \'PLN\' NOT NULL COLLATE `utf8mb4_unicode_ci`, shipping_data JSON DEFAULT NULL, notes TEXT CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, paid_at DATETIME DEFAULT NULL, completed_at DATETIME DEFAULT NULL, created_at DATETIME DEFAULT NULL, updated_at DATETIME DEFAULT NULL, UNIQUE INDEX orders_uuid_unique (uuid), UNIQUE INDEX orders_order_number_unique (order_number), INDEX orders_customer_user_id_foreign (customer_user_id), INDEX orders_customer_id_status_index (customer_id, status), INDEX IDX_E52FFDEE9395C3F3 (customer_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('CREATE TABLE password_reset_tokens (email VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, token VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, created_at DATETIME DEFAULT NULL, PRIMARY KEY(email)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('CREATE TABLE payments (id BIGINT UNSIGNED AUTO_INCREMENT NOT NULL, customer_id BIGINT UNSIGNED NOT NULL, customer_user_id BIGINT UNSIGNED NOT NULL, uuid CHAR(36) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, payable_type VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, payable_id BIGINT UNSIGNED DEFAULT NULL, external_id VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, type VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'shipment\' NOT NULL COLLATE `utf8mb4_unicode_ci`, method VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'simulation\' NOT NULL COLLATE `utf8mb4_unicode_ci`, provider VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, amount NUMERIC(10, 2) NOT NULL, currency VARCHAR(3) CHARACTER SET utf8mb4 DEFAULT \'PLN\' NOT NULL COLLATE `utf8mb4_unicode_ci`, status VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'pending\' NOT NULL COLLATE `utf8mb4_unicode_ci`, provider_data JSON DEFAULT NULL, description VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, paid_at DATETIME DEFAULT NULL, expires_at DATETIME DEFAULT NULL, failure_reason TEXT CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, created_at DATETIME DEFAULT NULL, updated_at DATETIME DEFAULT NULL, UNIQUE INDEX payments_uuid_unique (uuid), INDEX payments_customer_user_id_foreign (customer_user_id), INDEX payments_payable_type_payable_id_index (payable_type, payable_id), INDEX payments_customer_id_status_index (customer_id, status), INDEX payments_status_created_at_index (status, created_at), INDEX payments_external_id_index (external_id), INDEX IDX_65D29B329395C3F3 (customer_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('CREATE TABLE permissions (id BIGINT UNSIGNED AUTO_INCREMENT NOT NULL, name VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, display_name VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, category VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, description TEXT CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, is_active TINYINT(1) DEFAULT 1 NOT NULL, created_at DATETIME DEFAULT NULL, updated_at DATETIME DEFAULT NULL, UNIQUE INDEX permissions_name_unique (name), INDEX permissions_category_is_active_index (category, is_active), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('CREATE TABLE personal_access_tokens (id BIGINT UNSIGNED AUTO_INCREMENT NOT NULL, tokenable_type VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, tokenable_id BIGINT UNSIGNED NOT NULL, name TEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, token VARCHAR(64) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, abilities TEXT CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, last_used_at DATETIME DEFAULT NULL, expires_at DATETIME DEFAULT NULL, created_at DATETIME DEFAULT NULL, updated_at DATETIME DEFAULT NULL, UNIQUE INDEX personal_access_tokens_token_unique (token), INDEX personal_access_tokens_tokenable_type_tokenable_id_index (tokenable_type, tokenable_id), INDEX personal_access_tokens_expires_at_index (expires_at), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('CREATE TABLE role_permissions (id BIGINT UNSIGNED AUTO_INCREMENT NOT NULL, permission_id BIGINT UNSIGNED NOT NULL, user_type VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, role VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, granted TINYINT(1) DEFAULT 1 NOT NULL, created_at DATETIME DEFAULT NULL, updated_at DATETIME DEFAULT NULL, UNIQUE INDEX role_permissions_user_type_role_permission_id_unique (user_type, role, permission_id), INDEX role_permissions_permission_id_foreign (permission_id), INDEX role_permissions_user_type_role_index (user_type, role), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('CREATE TABLE sessions (id VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, user_id BIGINT UNSIGNED DEFAULT NULL, ip_address VARCHAR(45) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, user_agent TEXT CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, payload LONGTEXT CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, last_activity INT NOT NULL, INDEX sessions_user_id_index (user_id), INDEX sessions_last_activity_index (last_activity), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('CREATE TABLE shipments (id BIGINT UNSIGNED AUTO_INCREMENT NOT NULL, customer_id BIGINT UNSIGNED NOT NULL, customer_user_id BIGINT UNSIGNED NOT NULL, courier_service_id BIGINT UNSIGNED NOT NULL, order_id BIGINT UNSIGNED DEFAULT NULL, uuid CHAR(36) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, tracking_number VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, external_id VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, reference_number VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, status VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'draft\' NOT NULL COLLATE `utf8mb4_unicode_ci`, service_type VARCHAR(100) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, sender_data JSON NOT NULL, recipient_data JSON NOT NULL, package_data JSON NOT NULL, cost_data JSON DEFAULT NULL, cod_amount NUMERIC(10, 2) DEFAULT NULL, insurance_amount NUMERIC(10, 2) DEFAULT NULL, additional_services JSON DEFAULT NULL, label_url VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, notes TEXT CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, shipped_at DATETIME DEFAULT NULL, delivered_at DATETIME DEFAULT NULL, tracking_events JSON DEFAULT NULL, created_at DATETIME DEFAULT NULL, updated_at DATETIME DEFAULT NULL, UNIQUE INDEX shipments_uuid_unique (uuid), INDEX shipments_customer_user_id_foreign (customer_user_id), INDEX shipments_courier_service_id_foreign (courier_service_id), INDEX shipments_customer_id_status_index (customer_id, status), INDEX shipments_status_created_at_index (status, created_at), INDEX shipments_reference_number_index (reference_number), INDEX shipments_tracking_number_index (tracking_number), INDEX shipments_order_id_index (order_id), INDEX IDX_94699AD49395C3F3 (customer_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('CREATE TABLE subscriptions (id BIGINT UNSIGNED AUTO_INCREMENT NOT NULL, customer_id BIGINT UNSIGNED NOT NULL, plan VARCHAR(50) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, status VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'active\' NOT NULL COLLATE `utf8mb4_unicode_ci`, request_quota_monthly INT UNSIGNED DEFAULT 10000 NOT NULL, requests_used_this_period INT UNSIGNED DEFAULT 0 NOT NULL, period_started_at DATETIME DEFAULT NULL, period_ends_at DATETIME DEFAULT NULL, auto_renew TINYINT(1) DEFAULT 1 NOT NULL, metadata JSON DEFAULT NULL, created_at DATETIME DEFAULT NULL, updated_at DATETIME DEFAULT NULL, INDEX subscriptions_customer_id_foreign (customer_id), INDEX subscriptions_plan_index (plan), INDEX subscriptions_status_index (status), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('CREATE TABLE system_settings (id BIGINT UNSIGNED AUTO_INCREMENT NOT NULL, `key` VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, value TEXT CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, type VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'string\' NOT NULL COLLATE `utf8mb4_unicode_ci`, `group` VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'general\' NOT NULL COLLATE `utf8mb4_unicode_ci`, description VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, created_at DATETIME DEFAULT NULL, updated_at DATETIME DEFAULT NULL, UNIQUE INDEX system_settings_key_unique (`key`), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('CREATE TABLE system_users (id BIGINT UNSIGNED AUTO_INCREMENT NOT NULL, uuid CHAR(36) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, name VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, email VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, email_verified_at DATETIME DEFAULT NULL, password VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, role VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT \'admin\' NOT NULL COLLATE `utf8mb4_unicode_ci`, is_active TINYINT(1) DEFAULT 1 NOT NULL, last_login_at DATETIME DEFAULT NULL, last_login_ip VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, remember_token VARCHAR(100) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, created_at DATETIME DEFAULT NULL, updated_at DATETIME DEFAULT NULL, UNIQUE INDEX system_users_uuid_unique (uuid), UNIQUE INDEX system_users_email_unique (email), INDEX system_users_email_is_active_index (email, is_active), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('CREATE TABLE transactions (id BIGINT UNSIGNED AUTO_INCREMENT NOT NULL, customer_id BIGINT UNSIGNED NOT NULL, payment_id BIGINT UNSIGNED DEFAULT NULL, uuid CHAR(36) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, transactionable_type VARCHAR(255) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, transactionable_id BIGINT UNSIGNED DEFAULT NULL, type VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, amount NUMERIC(10, 2) NOT NULL, currency VARCHAR(3) CHARACTER SET utf8mb4 DEFAULT \'PLN\' NOT NULL COLLATE `utf8mb4_unicode_ci`, balance_before NUMERIC(10, 2) NOT NULL, balance_after NUMERIC(10, 2) NOT NULL, description VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, metadata JSON DEFAULT NULL, created_at DATETIME DEFAULT NULL, updated_at DATETIME DEFAULT NULL, UNIQUE INDEX transactions_uuid_unique (uuid), INDEX transactions_payment_id_foreign (payment_id), INDEX transactions_transactionable_type_transactionable_id_index (transactionable_type, transactionable_id), INDEX transactions_customer_id_created_at_index (customer_id, created_at), INDEX transactions_type_index (type), INDEX IDX_EAA81A4C9395C3F3 (customer_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('CREATE TABLE users (id BIGINT UNSIGNED AUTO_INCREMENT NOT NULL, name VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, email VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, email_verified_at DATETIME DEFAULT NULL, password VARCHAR(255) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_unicode_ci`, remember_token VARCHAR(100) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_unicode_ci`, created_at DATETIME DEFAULT NULL, updated_at DATETIME DEFAULT NULL, UNIQUE INDEX users_email_unique (email), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('ALTER TABLE api_keys ADD CONSTRAINT api_keys_customer_id_foreign FOREIGN KEY (customer_id) REFERENCES customers (id) ON UPDATE NO ACTION ON DELETE NO ACTION');
        $this->addSql('ALTER TABLE cms_media ADD CONSTRAINT cms_media_uploaded_by_foreign FOREIGN KEY (uploaded_by) REFERENCES system_users (id) ON UPDATE NO ACTION ON DELETE NO ACTION');
        $this->addSql('ALTER TABLE cms_notification_banners ADD CONSTRAINT cms_notification_banners_created_by_foreign FOREIGN KEY (created_by) REFERENCES system_users (id) ON UPDATE NO ACTION ON DELETE NO ACTION');
        $this->addSql('ALTER TABLE cms_pages ADD CONSTRAINT cms_pages_created_by_foreign FOREIGN KEY (created_by) REFERENCES system_users (id) ON UPDATE NO ACTION ON DELETE NO ACTION');
        $this->addSql('ALTER TABLE cms_pages ADD CONSTRAINT cms_pages_updated_by_foreign FOREIGN KEY (updated_by) REFERENCES system_users (id) ON UPDATE NO ACTION ON DELETE NO ACTION');
        $this->addSql('ALTER TABLE cms_settings ADD CONSTRAINT cms_settings_updated_by_foreign FOREIGN KEY (updated_by) REFERENCES system_users (id) ON UPDATE NO ACTION ON DELETE NO ACTION');
        $this->addSql('ALTER TABLE complaint_files ADD CONSTRAINT complaint_files_complaint_id_foreign FOREIGN KEY (complaint_id) REFERENCES customer_complaints (id) ON UPDATE NO ACTION ON DELETE CASCADE');
        $this->addSql('ALTER TABLE complaint_files ADD CONSTRAINT complaint_files_uploaded_by_foreign FOREIGN KEY (uploaded_by) REFERENCES customer_users (id) ON UPDATE NO ACTION ON DELETE NO ACTION');
        $this->addSql('ALTER TABLE complaint_messages ADD CONSTRAINT complaint_messages_complaint_id_foreign FOREIGN KEY (complaint_id) REFERENCES customer_complaints (id) ON UPDATE NO ACTION ON DELETE CASCADE');
        $this->addSql('ALTER TABLE complaint_sla_rules ADD CONSTRAINT complaint_sla_rules_complaint_topic_id_foreign FOREIGN KEY (complaint_topic_id) REFERENCES complaint_topics (id) ON UPDATE NO ACTION ON DELETE NO ACTION');
        $this->addSql('ALTER TABLE courier_api_logs ADD CONSTRAINT courier_api_logs_shipment_id_foreign FOREIGN KEY (shipment_id) REFERENCES shipments (id) ON UPDATE NO ACTION ON DELETE CASCADE');
        $this->addSql('ALTER TABLE courier_points ADD CONSTRAINT courier_points_courier_service_id_foreign FOREIGN KEY (courier_service_id) REFERENCES courier_services (id) ON UPDATE NO ACTION ON DELETE NO ACTION');
        $this->addSql('ALTER TABLE customer_complaints ADD CONSTRAINT customer_complaints_assigned_to_foreign FOREIGN KEY (assigned_to) REFERENCES system_users (id) ON UPDATE NO ACTION ON DELETE NO ACTION');
        $this->addSql('ALTER TABLE customer_complaints ADD CONSTRAINT customer_complaints_complaint_topic_id_foreign FOREIGN KEY (complaint_topic_id) REFERENCES complaint_topics (id) ON UPDATE NO ACTION ON DELETE NO ACTION');
        $this->addSql('ALTER TABLE customer_complaints ADD CONSTRAINT customer_complaints_customer_id_foreign FOREIGN KEY (customer_id) REFERENCES customers (id) ON UPDATE NO ACTION ON DELETE NO ACTION');
        $this->addSql('ALTER TABLE customer_complaints ADD CONSTRAINT customer_complaints_customer_user_id_foreign FOREIGN KEY (customer_user_id) REFERENCES customer_users (id) ON UPDATE NO ACTION ON DELETE NO ACTION');
        $this->addSql('ALTER TABLE customer_complaints ADD CONSTRAINT customer_complaints_resolved_by_foreign FOREIGN KEY (resolved_by) REFERENCES system_users (id) ON UPDATE NO ACTION ON DELETE NO ACTION');
        $this->addSql('ALTER TABLE customer_complaints ADD CONSTRAINT customer_complaints_shipment_id_foreign FOREIGN KEY (shipment_id) REFERENCES shipments (id) ON UPDATE NO ACTION ON DELETE NO ACTION');
        $this->addSql('ALTER TABLE customer_users ADD CONSTRAINT customer_users_customer_id_foreign FOREIGN KEY (customer_id) REFERENCES customers (id) ON UPDATE NO ACTION ON DELETE CASCADE');
        $this->addSql('ALTER TABLE orders ADD CONSTRAINT orders_customer_id_foreign FOREIGN KEY (customer_id) REFERENCES customers (id) ON UPDATE NO ACTION ON DELETE NO ACTION');
        $this->addSql('ALTER TABLE orders ADD CONSTRAINT orders_customer_user_id_foreign FOREIGN KEY (customer_user_id) REFERENCES customer_users (id) ON UPDATE NO ACTION ON DELETE NO ACTION');
        $this->addSql('ALTER TABLE payments ADD CONSTRAINT payments_customer_id_foreign FOREIGN KEY (customer_id) REFERENCES customers (id) ON UPDATE NO ACTION ON DELETE NO ACTION');
        $this->addSql('ALTER TABLE payments ADD CONSTRAINT payments_customer_user_id_foreign FOREIGN KEY (customer_user_id) REFERENCES customer_users (id) ON UPDATE NO ACTION ON DELETE NO ACTION');
        $this->addSql('ALTER TABLE role_permissions ADD CONSTRAINT role_permissions_permission_id_foreign FOREIGN KEY (permission_id) REFERENCES permissions (id) ON UPDATE NO ACTION ON DELETE CASCADE');
        $this->addSql('ALTER TABLE shipments ADD CONSTRAINT shipments_courier_service_id_foreign FOREIGN KEY (courier_service_id) REFERENCES courier_services (id) ON UPDATE NO ACTION ON DELETE NO ACTION');
        $this->addSql('ALTER TABLE shipments ADD CONSTRAINT shipments_customer_id_foreign FOREIGN KEY (customer_id) REFERENCES customers (id) ON UPDATE NO ACTION ON DELETE NO ACTION');
        $this->addSql('ALTER TABLE shipments ADD CONSTRAINT shipments_customer_user_id_foreign FOREIGN KEY (customer_user_id) REFERENCES customer_users (id) ON UPDATE NO ACTION ON DELETE NO ACTION');
        $this->addSql('ALTER TABLE shipments ADD CONSTRAINT shipments_order_id_foreign FOREIGN KEY (order_id) REFERENCES orders (id) ON UPDATE NO ACTION ON DELETE NO ACTION');
        $this->addSql('ALTER TABLE subscriptions ADD CONSTRAINT subscriptions_customer_id_foreign FOREIGN KEY (customer_id) REFERENCES customers (id) ON UPDATE NO ACTION ON DELETE NO ACTION');
        $this->addSql('ALTER TABLE transactions ADD CONSTRAINT transactions_customer_id_foreign FOREIGN KEY (customer_id) REFERENCES customers (id) ON UPDATE NO ACTION ON DELETE NO ACTION');
        $this->addSql('ALTER TABLE transactions ADD CONSTRAINT transactions_payment_id_foreign FOREIGN KEY (payment_id) REFERENCES payments (id) ON UPDATE NO ACTION ON DELETE NO ACTION');
        $this->addSql('ALTER TABLE v2_additional_service_prices DROP FOREIGN KEY FK_6D0634D6ACE1D8B4');
        $this->addSql('ALTER TABLE v2_additional_service_prices DROP FOREIGN KEY FK_6D0634D6F8E98E09');
        $this->addSql('ALTER TABLE v2_additional_services DROP FOREIGN KEY FK_B35CC9AE21DFC797');
        $this->addSql('ALTER TABLE v2_customer_pricing DROP FOREIGN KEY FK_D02960659395C3F3');
        $this->addSql('ALTER TABLE v2_customer_pricing DROP FOREIGN KEY FK_D029606598ECB511');
        $this->addSql('ALTER TABLE v2_customer_pricing DROP FOREIGN KEY FK_D0296065B03A8386');
        $this->addSql('ALTER TABLE v2_customer_pricing DROP FOREIGN KEY FK_D0296065896DBBDE');
        $this->addSql('ALTER TABLE v2_customer_pricing_audit DROP FOREIGN KEY FK_89982FC575ADABF1');
        $this->addSql('ALTER TABLE v2_customer_pricing_audit DROP FOREIGN KEY FK_89982FC5B03A8386');
        $this->addSql('ALTER TABLE v2_order_items DROP FOREIGN KEY FK_E3DB30718D9F6D38');
        $this->addSql('ALTER TABLE v2_orders DROP FOREIGN KEY FK_23283FE29395C3F3');
        $this->addSql('ALTER TABLE v2_orders DROP FOREIGN KEY FK_23283FE2B03A8386');
        $this->addSql('ALTER TABLE v2_pricing_rules DROP FOREIGN KEY FK_DFEEA9BCACE1D8B4');
        $this->addSql('ALTER TABLE v2_promotional_pricing DROP FOREIGN KEY FK_D537038EACE1D8B4');
        $this->addSql('ALTER TABLE v2_promotional_pricing DROP FOREIGN KEY FK_D537038E75ADABF1');
        $this->addSql('ALTER TABLE v2_promotional_pricing DROP FOREIGN KEY FK_D537038EB03A8386');
        $this->addSql('ALTER TABLE v2_promotional_pricing DROP FOREIGN KEY FK_D537038E896DBBDE');
        $this->addSql('ALTER TABLE v2_shipment_items DROP FOREIGN KEY FK_1AAEFDC67BE036FC');
        $this->addSql('ALTER TABLE v2_shipment_items DROP FOREIGN KEY FK_1AAEFDC6E415FB15');
        $this->addSql('ALTER TABLE v2_shipment_tracking DROP FOREIGN KEY FK_A0D3F25F7BE036FC');
        $this->addSql('ALTER TABLE v2_shipments DROP FOREIGN KEY FK_FADB43198D9F6D38');
        $this->addSql('DROP TABLE v2_additional_service_prices');
        $this->addSql('DROP TABLE v2_additional_services');
        $this->addSql('DROP TABLE v2_customer_pricing');
        $this->addSql('DROP TABLE v2_customer_pricing_audit');
        $this->addSql('DROP TABLE v2_order_items');
        $this->addSql('DROP TABLE v2_orders');
        $this->addSql('DROP TABLE v2_pricing_rules');
        $this->addSql('DROP TABLE v2_promotional_pricing');
        $this->addSql('DROP TABLE v2_shipment_items');
        $this->addSql('DROP TABLE v2_shipment_tracking');
        $this->addSql('DROP TABLE v2_shipments');
        $this->addSql('DROP TABLE messenger_messages');
        $this->addSql('ALTER TABLE invoice_items RENAME INDEX idx_dcc4b9f82989f1fd TO idx_invoice_items_invoice_id');
        $this->addSql('CREATE INDEX idx_invoice_number ON invoices (number)');
        $this->addSql('ALTER TABLE secret_audit_logs CHANGE secret_id secret_id BINARY(16) NOT NULL COMMENT \'(DC2Type:uuid)\'');
        $this->addSql('ALTER TABLE v2_carriers CHANGE created_at created_at DATETIME DEFAULT CURRENT_TIMESTAMP NOT NULL, CHANGE updated_at updated_at DATETIME DEFAULT NULL');
        $this->addSql('ALTER TABLE v2_carriers RENAME INDEX uniq_d697802277153098 TO UNIQ_CARRIER_CODE');
        $this->addSql('ALTER TABLE v2_credit_accounts DROP FOREIGN KEY FK_BD8257EBA76ED395');
        $this->addSql('DROP INDEX IDX_BD8257EBA76ED395 ON v2_credit_accounts');
        $this->addSql('ALTER TABLE v2_credit_accounts CHANGE status status VARCHAR(50) DEFAULT \'pending_approval\' NOT NULL, CHANGE used_credit used_credit NUMERIC(10, 2) DEFAULT \'0.00\' NOT NULL, CHANGE overdraft_limit overdraft_limit NUMERIC(10, 2) DEFAULT \'0.00\' NOT NULL, CHANGE payment_term_days payment_term_days SMALLINT DEFAULT 30 NOT NULL, CHANGE currency currency VARCHAR(3) DEFAULT \'PLN\' NOT NULL, CHANGE last_credit_review_date last_credit_review_date DATE DEFAULT NULL, CHANGE next_review_date next_review_date DATE DEFAULT NULL');
        $this->addSql('ALTER TABLE v2_credit_accounts RENAME INDEX uniq_bd8257ebb1a4d127 TO UNIQ_CREDIT_ACCOUNT_NUMBER');
        $this->addSql('ALTER TABLE v2_credit_transactions DROP FOREIGN KEY FK_B6E294174C3A3BB');
        $this->addSql('ALTER TABLE v2_credit_transactions CHANGE status status VARCHAR(50) DEFAULT \'pending\' NOT NULL, CHANGE currency currency VARCHAR(3) DEFAULT \'PLN\' NOT NULL');
        $this->addSql('CREATE INDEX IDX_CREDIT_ACCOUNT ON v2_credit_transactions (credit_account_id)');
        $this->addSql('CREATE INDEX IDX_PAYMENT ON v2_credit_transactions (payment_id)');
        $this->addSql('ALTER TABLE v2_credit_transactions RENAME INDEX uniq_b6e294172fc0cb0f TO UNIQ_CREDIT_TRANSACTION_ID');
        $this->addSql('ALTER TABLE v2_customer_users DROP FOREIGN KEY FK_ADCB66FC9395C3F3');
        $this->addSql('ALTER TABLE v2_customer_users CHANGE customer_role customer_role VARCHAR(50) DEFAULT \'employee\' NOT NULL, CHANGE status status VARCHAR(50) DEFAULT \'active\' NOT NULL');
        $this->addSql('ALTER TABLE v2_customer_users ADD CONSTRAINT FK_V2_CUSTOMER_USER_CUSTOMER FOREIGN KEY (customer_id) REFERENCES v2_customers (id) ON UPDATE NO ACTION ON DELETE CASCADE');
        $this->addSql('ALTER TABLE v2_customer_users RENAME INDEX idx_adcb66fc9395c3f3 TO IDX_CUSTOMER_USER_CUSTOMER');
        $this->addSql('ALTER TABLE v2_customers CHANGE type type VARCHAR(50) DEFAULT \'business\' NOT NULL, CHANGE status status VARCHAR(50) DEFAULT \'active\' NOT NULL');
        $this->addSql('ALTER TABLE v2_invitations DROP FOREIGN KEY FK_A27CBD6F9395C3F3');
        $this->addSql('ALTER TABLE v2_invitations DROP FOREIGN KEY FK_A27CBD6FA7B4A7E3');
        $this->addSql('ALTER TABLE v2_invitations DROP FOREIGN KEY FK_A27CBD6F20F699D9');
        $this->addSql('ALTER TABLE v2_invitations CHANGE customer_role customer_role VARCHAR(50) DEFAULT \'employee\' NOT NULL, CHANGE status status VARCHAR(50) DEFAULT \'pending\' NOT NULL');
        $this->addSql('ALTER TABLE v2_invitations ADD CONSTRAINT FK_V2_INVITATION_CUSTOMER FOREIGN KEY (customer_id) REFERENCES v2_customers (id) ON UPDATE NO ACTION ON DELETE CASCADE');
        $this->addSql('ALTER TABLE v2_invitations ADD CONSTRAINT FK_V2_INVITATION_INVITED_BY FOREIGN KEY (invited_by_id) REFERENCES v2_customer_users (id) ON UPDATE NO ACTION ON DELETE CASCADE');
        $this->addSql('ALTER TABLE v2_invitations ADD CONSTRAINT FK_V2_INVITATION_ACCEPTED_BY FOREIGN KEY (accepted_by_id) REFERENCES v2_customer_users (id) ON UPDATE NO ACTION ON DELETE SET NULL');
        $this->addSql('CREATE INDEX IDX_INVITATION_EMAIL ON v2_invitations (email)');
        $this->addSql('CREATE INDEX IDX_INVITATION_STATUS ON v2_invitations (status)');
        $this->addSql('ALTER TABLE v2_invitations RENAME INDEX uniq_a27cbd6f5f37a13b TO UNIQ_INVITATION_TOKEN');
        $this->addSql('ALTER TABLE v2_invitations RENAME INDEX idx_a27cbd6f9395c3f3 TO IDX_INVITATION_CUSTOMER');
        $this->addSql('ALTER TABLE v2_invitations RENAME INDEX idx_a27cbd6fa7b4a7e3 TO IDX_INVITATION_INVITED_BY');
        $this->addSql('ALTER TABLE v2_invitations RENAME INDEX idx_a27cbd6f20f699d9 TO IDX_INVITATION_ACCEPTED_BY');
        $this->addSql('ALTER TABLE v2_payments DROP FOREIGN KEY FK_BC0DB1A5A76ED395');
        $this->addSql('ALTER TABLE v2_payments CHANGE currency currency VARCHAR(3) DEFAULT \'PLN\' NOT NULL, CHANGE status status VARCHAR(50) DEFAULT \'pending\' NOT NULL');
        $this->addSql('ALTER TABLE v2_payments RENAME INDEX uniq_bc0db1a54c3a3bb TO UNIQ_PAYMENT_ID');
        $this->addSql('ALTER TABLE v2_payments RENAME INDEX idx_bc0db1a5a76ed395 TO IDX_PAYMENT_USER');
        $this->addSql('ALTER TABLE v2_preliminary_registrations CHANGE country country CHAR(2) DEFAULT NULL, CHANGE email_verified email_verified TINYINT(1) DEFAULT 0 NOT NULL');
        $this->addSql('ALTER TABLE v2_preliminary_registrations RENAME INDEX uniq_f52a94c55f37a13b TO UNIQ_V2_PRELIMINARY_REGISTRATIONS_TOKEN');
        $this->addSql('ALTER TABLE v2_pricing_tables DROP FOREIGN KEY FK_69A9F53121DFC797');
        $this->addSql('ALTER TABLE v2_pricing_tables DROP FOREIGN KEY FK_69A9F5319F2C3FAB');
        $this->addSql('ALTER TABLE v2_pricing_tables DROP FOREIGN KEY FK_69A9F531B03A8386');
        $this->addSql('ALTER TABLE v2_pricing_tables DROP FOREIGN KEY FK_69A9F531896DBBDE');
        $this->addSql('DROP INDEX IDX_69A9F531B03A8386 ON v2_pricing_tables');
        $this->addSql('DROP INDEX IDX_69A9F531896DBBDE ON v2_pricing_tables');
        $this->addSql('DROP INDEX IDX_PRICING_CARRIER_ZONE ON v2_pricing_tables');
        $this->addSql('DROP INDEX IDX_PRICING_ACTIVE ON v2_pricing_tables');
        $this->addSql('DROP INDEX IDX_PRICING_EFFECTIVE ON v2_pricing_tables');
        $this->addSql('DROP INDEX IDX_PRICING_SERVICE ON v2_pricing_tables');
        $this->addSql('DROP INDEX UNQ_PRICING_CARRIER_ZONE_SERVICE_VERSION ON v2_pricing_tables');
        $this->addSql('ALTER TABLE v2_pricing_tables DROP created_by_id, DROP updated_by_id, DROP pricing_model, DROP version, DROP description, DROP min_weight_kg, DROP max_weight_kg, DROP min_dimensions_cm, DROP max_dimensions_cm, DROP volumetric_divisor, DROP tax_rate, DROP config, DROP effective_from, DROP effective_until, DROP updated_at, CHANGE service_type service_type VARCHAR(50) DEFAULT \'standard\' NOT NULL, CHANGE currency currency VARCHAR(3) DEFAULT \'PLN\' NOT NULL, CHANGE created_at created_at DATETIME DEFAULT CURRENT_TIMESTAMP NOT NULL');
        $this->addSql('ALTER TABLE v2_pricing_tables ADD CONSTRAINT v2_pricing_tables_ibfk_1 FOREIGN KEY (carrier_id) REFERENCES v2_carriers (id) ON UPDATE NO ACTION ON DELETE CASCADE');
        $this->addSql('ALTER TABLE v2_pricing_tables ADD CONSTRAINT v2_pricing_tables_ibfk_2 FOREIGN KEY (zone_id) REFERENCES v2_pricing_zones (id) ON UPDATE NO ACTION ON DELETE CASCADE');
        $this->addSql('ALTER TABLE v2_pricing_tables RENAME INDEX idx_69a9f53121dfc797 TO carrier_id');
        $this->addSql('ALTER TABLE v2_pricing_tables RENAME INDEX idx_69a9f5319f2c3fab TO zone_id');
        $this->addSql('DROP INDEX IDX_ZONE_TYPE ON v2_pricing_zones');
        $this->addSql('DROP INDEX IDX_ZONE_ACTIVE ON v2_pricing_zones');
        $this->addSql('DROP INDEX IDX_ZONE_SORT ON v2_pricing_zones');
        $this->addSql('ALTER TABLE v2_pricing_zones CHANGE code code VARCHAR(10) NOT NULL COMMENT \'Unique zone code\', CHANGE name name VARCHAR(100) NOT NULL COMMENT \'Zone name\', CHANGE description description TEXT DEFAULT NULL, CHANGE created_at created_at DATETIME DEFAULT CURRENT_TIMESTAMP NOT NULL, CHANGE updated_at updated_at DATETIME DEFAULT NULL');
        $this->addSql('ALTER TABLE v2_pricing_zones RENAME INDEX uniq_d3be81e877153098 TO UNIQ_ZONE_CODE');
        $this->addSql('ALTER TABLE v2_system_users CHANGE department department VARCHAR(50) DEFAULT \'support\' NOT NULL, CHANGE status status VARCHAR(50) DEFAULT \'active\' NOT NULL');
        $this->addSql('ALTER TABLE v2_wallet_top_ups CHANGE status status VARCHAR(50) DEFAULT \'pending\' NOT NULL, CHANGE currency currency VARCHAR(3) DEFAULT \'PLN\' NOT NULL');
        $this->addSql('ALTER TABLE v2_wallet_top_ups RENAME INDEX uniq_a420090190308d68 TO UNIQ_WALLET_TOP_UP_ID');
        $this->addSql('ALTER TABLE v2_wallet_top_ups RENAME INDEX idx_a4200901924c1837 TO idx_wallet_top_up_transaction');
        $this->addSql('ALTER TABLE v2_wallet_transactions CHANGE status status VARCHAR(50) DEFAULT \'pending\' NOT NULL, CHANGE currency currency VARCHAR(3) DEFAULT \'PLN\' NOT NULL');
        $this->addSql('ALTER TABLE v2_wallet_transactions RENAME INDEX uniq_dfbd91f32fc0cb0f TO UNIQ_WALLET_TRANSACTION_ID');
        $this->addSql('ALTER TABLE v2_wallets DROP FOREIGN KEY FK_9F0AE185A76ED395');
        $this->addSql('ALTER TABLE v2_wallets CHANGE status status VARCHAR(50) DEFAULT \'active\' NOT NULL, CHANGE balance balance NUMERIC(15, 2) DEFAULT \'0.00\' NOT NULL, CHANGE reserved_balance reserved_balance NUMERIC(15, 2) DEFAULT \'0.00\' NOT NULL, CHANGE available_balance available_balance NUMERIC(15, 2) DEFAULT \'0.00\' NOT NULL, CHANGE currency currency VARCHAR(3) DEFAULT \'PLN\' NOT NULL, CHANGE low_balance_threshold low_balance_threshold NUMERIC(15, 2) DEFAULT \'10.00\' NOT NULL, CHANGE low_balance_notification_sent low_balance_notification_sent TINYINT(1) DEFAULT 0 NOT NULL');
        $this->addSql('ALTER TABLE v2_wallets RENAME INDEX uniq_9f0ae18526308010 TO UNIQ_WALLET_NUMBER');
        $this->addSql('ALTER TABLE v2_wallets RENAME INDEX idx_9f0ae185a76ed395 TO IDX_WALLET_USER');
    }
}
